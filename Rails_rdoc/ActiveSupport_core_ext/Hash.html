<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Hash - RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>array/extract_options.rb
    <li>hash/conversions.rb
    <li>hash/deep_merge.rb
    <li>hash/diff.rb
    <li>hash/except.rb
    <li>hash/indifferent_access.rb
    <li>hash/keys.rb
    <li>hash/reverse_merge.rb
    <li>hash/slice.rb
    <li>object/blank.rb
    <li>object/deep_dup.rb
    <li>object/to_param.rb
    <li>object/to_query.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="Object.html">Object</a>
  
</nav>

    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-from_trusted_xml">::from_trusted_xml</a>
    
    <li ><a href="#method-c-from_xml">::from_xml</a>
    
    <li ><a href="#method-i-assert_valid_keys">#assert_valid_keys</a>
    
    <li ><a href="#method-i-deep_dup">#deep_dup</a>
    
    <li ><a href="#method-i-deep_merge">#deep_merge</a>
    
    <li ><a href="#method-i-deep_merge-21">#deep_merge!</a>
    
    <li ><a href="#method-i-deep_stringify_keys">#deep_stringify_keys</a>
    
    <li ><a href="#method-i-deep_stringify_keys-21">#deep_stringify_keys!</a>
    
    <li ><a href="#method-i-deep_symbolize_keys">#deep_symbolize_keys</a>
    
    <li ><a href="#method-i-deep_symbolize_keys-21">#deep_symbolize_keys!</a>
    
    <li ><a href="#method-i-deep_transform_keys">#deep_transform_keys</a>
    
    <li ><a href="#method-i-deep_transform_keys-21">#deep_transform_keys!</a>
    
    <li ><a href="#method-i-diff">#diff</a>
    
    <li ><a href="#method-i-except">#except</a>
    
    <li ><a href="#method-i-except-21">#except!</a>
    
    <li ><a href="#method-i-extract-21">#extract!</a>
    
    <li ><a href="#method-i-extractable_options-3F">#extractable_options?</a>
    
    <li ><a href="#method-i-nested_under_indifferent_access">#nested_under_indifferent_access</a>
    
    <li ><a href="#method-i-reverse_merge">#reverse_merge</a>
    
    <li ><a href="#method-i-reverse_merge-21">#reverse_merge!</a>
    
    <li ><a href="#method-i-reverse_update">#reverse_update</a>
    
    <li ><a href="#method-i-slice">#slice</a>
    
    <li ><a href="#method-i-slice-21">#slice!</a>
    
    <li ><a href="#method-i-stringify_keys">#stringify_keys</a>
    
    <li ><a href="#method-i-stringify_keys-21">#stringify_keys!</a>
    
    <li ><a href="#method-i-symbolize_keys">#symbolize_keys</a>
    
    <li ><a href="#method-i-symbolize_keys-21">#symbolize_keys!</a>
    
    <li ><a href="#method-i-to_options">#to_options</a>
    
    <li ><a href="#method-i-to_options-21">#to_options!</a>
    
    <li ><a href="#method-i-to_param">#to_param</a>
    
    <li ><a href="#method-i-to_query">#to_query</a>
    
    <li ><a href="#method-i-to_xml">#to_xml</a>
    
    <li ><a href="#method-i-transform_keys">#transform_keys</a>
    
    <li ><a href="#method-i-transform_keys-21">#transform_keys!</a>
    
    <li ><a href="#method-i-with_indifferent_access">#with_indifferent_access</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/created_rid.html">created.rid</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./ActiveSupport.html">ActiveSupport</a>
  
    <li><a href="./ActiveSupport/SafeBuffer.html">ActiveSupport::SafeBuffer</a>
  
    <li><a href="./ActiveSupport/SafeBuffer/SafeConcatError.html">ActiveSupport::SafeBuffer::SafeConcatError</a>
  
    <li><a href="./ActiveSupport/XMLConverter.html">ActiveSupport::XMLConverter</a>
  
    <li><a href="./ActiveSupport/XMLConverter/DisallowedType.html">ActiveSupport::XMLConverter::DisallowedType</a>
  
    <li><a href="./Array.html">Array</a>
  
    <li><a href="./Benchmark.html">Benchmark</a>
  
    <li><a href="./BigDecimal.html">BigDecimal</a>
  
    <li><a href="./Class.html">Class</a>
  
    <li><a href="./Date.html">Date</a>
  
    <li><a href="./DateAndTime.html">DateAndTime</a>
  
    <li><a href="./DateAndTime/Calculations.html">DateAndTime::Calculations</a>
  
    <li><a href="./DateTime.html">DateTime</a>
  
    <li><a href="./ERB.html">ERB</a>
  
    <li><a href="./ERB/Util.html">ERB::Util</a>
  
    <li><a href="./Enumerable.html">Enumerable</a>
  
    <li><a href="./FalseClass.html">FalseClass</a>
  
    <li><a href="./File.html">File</a>
  
    <li><a href="./Hash.html">Hash</a>
  
    <li><a href="./Integer.html">Integer</a>
  
    <li><a href="./Kernel.html">Kernel</a>
  
    <li><a href="./LoadError.html">LoadError</a>
  
    <li><a href="./Logger.html">Logger</a>
  
    <li><a href="./Logger/SimpleFormatter.html">Logger::SimpleFormatter</a>
  
    <li><a href="./Marshal.html">Marshal</a>
  
    <li><a href="./MissingSourceFile.html">MissingSourceFile</a>
  
    <li><a href="./Module.html">Module</a>
  
    <li><a href="./NameError.html">NameError</a>
  
    <li><a href="./NilClass.html">NilClass</a>
  
    <li><a href="./Numeric.html">Numeric</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./Process.html">Process</a>
  
    <li><a href="./Process/Status.html">Process::Status</a>
  
    <li><a href="./QualifiedConstUtils.html">QualifiedConstUtils</a>
  
    <li><a href="./Range.html">Range</a>
  
    <li><a href="./String.html">String</a>
  
    <li><a href="./Symbol.html">Symbol</a>
  
    <li><a href="./Thread.html">Thread</a>
  
    <li><a href="./Time.html">Time</a>
  
    <li><a href="./TrueClass.html">TrueClass</a>
  
    <li><a href="./URI.html">URI</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Hash</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-from_trusted_xml" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">from_trusted_xml</span><span
            class="method-args">(xml)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Builds a <a href="Hash.html">Hash</a> from XML just like
<code>Hash.from_xml</code>, but also allows <a
href="Symbol.html">Symbol</a> and YAML.</p>
          
          

          
          <div class="method-source-code" id="from_trusted_xml-source">
            <pre><span class="ruby-comment"># File hash/conversions.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">from_trusted_xml</span>(<span class="ruby-identifier">xml</span>)
  <span class="ruby-identifier">from_xml</span> <span class="ruby-identifier">xml</span>, []
<span class="ruby-keyword">end</span></pre>
          </div><!-- from_trusted_xml-source -->
          
        </div>

        

        
      </div><!-- from_trusted_xml-method -->

    
      <div id="method-c-from_xml" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">from_xml</span><span
            class="method-args">(xml, disallowed_types = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a <a href="Hash.html">Hash</a> containing a collection of pairs
when the key is the node name and the value is its content</p>

<pre class="ruby"><span class="ruby-identifier">xml</span> = <span class="ruby-value">&lt;&lt;-XML
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
    &lt;hash&gt;
      &lt;foo type=&quot;integer&quot;&gt;1&lt;/foo&gt;
      &lt;bar type=&quot;integer&quot;&gt;2&lt;/bar&gt;
    &lt;/hash&gt;
XML</span>

<span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">xml</span>)
<span class="ruby-comment"># =&gt; {&quot;hash&quot;=&gt;{&quot;foo&quot;=&gt;1, &quot;bar&quot;=&gt;2}}</span>
</pre>

<p>DisallowedType is raise if the XML contains attributes with
<code>type=&quot;yaml&quot;</code> or <code>type=&quot;symbol&quot;</code>.
Use <code>Hash.from_trusted_xml</code> to parse this XML.</p>
          
          

          
          <div class="method-source-code" id="from_xml-source">
            <pre><span class="ruby-comment"># File hash/conversions.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">xml</span>, <span class="ruby-identifier">disallowed_types</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">XMLConverter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">xml</span>, <span class="ruby-identifier">disallowed_types</span>).<span class="ruby-identifier">to_h</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- from_xml-source -->
          
        </div>

        

        
      </div><!-- from_xml-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-assert_valid_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_valid_keys</span><span
            class="method-args">(*valid_keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Validate all keys in a hash match <code>*valid_keys</code>, raising
ArgumentError on a mismatch. Note that keys are NOT treated indifferently,
meaning if you use strings for keys but assert symbols as keys, this will
fail.</p>

<pre class="ruby">{ <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">years</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> }.<span class="ruby-identifier">assert_valid_keys</span>(:<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">age</span>) <span class="ruby-comment"># =&gt; raises &quot;ArgumentError: Unknown key: years&quot;</span>
{ <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">age</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-string">'name'</span>, <span class="ruby-string">'age'</span>) <span class="ruby-comment"># =&gt; raises &quot;ArgumentError: Unknown key: name&quot;</span>
{ <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">age</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> }.<span class="ruby-identifier">assert_valid_keys</span>(:<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">age</span>)   <span class="ruby-comment"># =&gt; passes, raises nothing</span>
</pre>
          
          

          
          <div class="method-source-code" id="assert_valid_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">valid_keys</span>)
  <span class="ruby-identifier">valid_keys</span>.<span class="ruby-identifier">flatten!</span>
  <span class="ruby-identifier">each_key</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Unknown key: #{k}&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">valid_keys</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">k</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_valid_keys-source -->
          
        </div>

        

        
      </div><!-- assert_valid_keys-method -->

    
      <div id="method-i-deep_dup" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_dup</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a deep copy of hash.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">'b'</span> } }
<span class="ruby-identifier">dup</span>  = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">deep_dup</span>
<span class="ruby-identifier">dup</span>[:<span class="ruby-identifier">a</span>][:<span class="ruby-identifier">c</span>] = <span class="ruby-string">'c'</span>

<span class="ruby-identifier">hash</span>[:<span class="ruby-identifier">a</span>][:<span class="ruby-identifier">c</span>] <span class="ruby-comment">#=&gt; nil</span>
<span class="ruby-identifier">dup</span>[:<span class="ruby-identifier">a</span>][:<span class="ruby-identifier">c</span>]  <span class="ruby-comment">#=&gt; &quot;c&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="deep_dup-source">
            <pre><span class="ruby-comment"># File object/deep_dup.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">each_with_object</span>(<span class="ruby-identifier">dup</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>), <span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">deep_dup</span>] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_dup-source -->
          
        </div>

        

        
      </div><!-- deep_dup-method -->

    
      <div id="method-i-deep_merge" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_merge</span><span
            class="method-args">(other_hash, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a new hash with <code>self</code> and <code>other_hash</code>
merged recursively.</p>

<pre class="ruby"><span class="ruby-identifier">h1</span> = { <span class="ruby-identifier">x</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">y</span><span class="ruby-operator">:</span> [<span class="ruby-value">4</span>,<span class="ruby-value">5</span>,<span class="ruby-value">6</span>] }, <span class="ruby-identifier">z</span><span class="ruby-operator">:</span> [<span class="ruby-value">7</span>,<span class="ruby-value">8</span>,<span class="ruby-value">9</span>] }
<span class="ruby-identifier">h2</span> = { <span class="ruby-identifier">x</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">y</span><span class="ruby-operator">:</span> [<span class="ruby-value">7</span>,<span class="ruby-value">8</span>,<span class="ruby-value">9</span>] }, <span class="ruby-identifier">z</span><span class="ruby-operator">:</span> <span class="ruby-string">'xyz'</span> }

<span class="ruby-identifier">h1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">h2</span>) <span class="ruby-comment">#=&gt; {x: {y: [7, 8, 9]}, z: &quot;xyz&quot;}</span>
<span class="ruby-identifier">h2</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">h1</span>) <span class="ruby-comment">#=&gt; {x: {y: [4, 5, 6]}, z: [7, 8, 9]}</span>
<span class="ruby-identifier">h1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">h2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">old</span>, <span class="ruby-identifier">new</span><span class="ruby-operator">|</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">old</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">new</span>) }
<span class="ruby-comment">#=&gt; {:x=&gt;{:y=&gt;[4, 5, 6, 7, 8, 9]}, :z=&gt;[7, 8, 9, &quot;xyz&quot;]}</span>
</pre>
          
          

          
          <div class="method-source-code" id="deep_merge-source">
            <pre><span class="ruby-comment"># File hash/deep_merge.rb, line 11</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">other_hash</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">other_hash</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_merge-source -->
          
        </div>

        

        
      </div><!-- deep_merge-method -->

    
      <div id="method-i-deep_merge-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_merge!</span><span
            class="method-args">(other_hash, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Same as <code>deep_merge</code>, but modifies <code>self</code>.</p>
          
          

          
          <div class="method-source-code" id="deep_merge-21-source">
            <pre><span class="ruby-comment"># File hash/deep_merge.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">other_hash</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">other_hash</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">tv</span> = <span class="ruby-keyword">self</span>[<span class="ruby-identifier">k</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">tv</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
      <span class="ruby-keyword">self</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">tv</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">v</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">self</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">block</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">tv</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">tv</span>, <span class="ruby-identifier">v</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_merge-21-source -->
          
        </div>

        

        
      </div><!-- deep_merge-21-method -->

    
      <div id="method-i-deep_stringify_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_stringify_keys</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a new hash with all keys converted to strings. This includes the
keys from the root hash and from all nested hashes.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-identifier">person</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">age</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> } }

<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">deep_stringify_keys</span>
<span class="ruby-comment"># =&gt; { &quot;person&quot; =&gt; { &quot;name&quot; =&gt; &quot;Rob&quot;, &quot;age&quot; =&gt; &quot;28&quot; } }</span>
</pre>
          
          

          
          <div class="method-source-code" id="deep_stringify_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_stringify_keys-source -->
          
        </div>

        

        
      </div><!-- deep_stringify_keys-method -->

    
      <div id="method-i-deep_stringify_keys-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_stringify_keys!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively convert all keys to strings. This includes the keys from the
root hash and from all nested hashes.</p>
          
          

          
          <div class="method-source-code" id="deep_stringify_keys-21-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_stringify_keys-21-source -->
          
        </div>

        

        
      </div><!-- deep_stringify_keys-21-method -->

    
      <div id="method-i-deep_symbolize_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_symbolize_keys</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a new hash with all keys converted to symbols, as long as they
respond to <code>to_sym</code>. This includes the keys from the root hash
and from all nested hashes.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-string">'person'</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">'name'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-string">'age'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'28'</span> } }

<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
<span class="ruby-comment"># =&gt; { person: { name: &quot;Rob&quot;, age: &quot;28&quot; } }</span>
</pre>
          
          

          
          <div class="method-source-code" id="deep_symbolize_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">key</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_symbolize_keys-source -->
          
        </div>

        

        
      </div><!-- deep_symbolize_keys-method -->

    
      <div id="method-i-deep_symbolize_keys-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_symbolize_keys!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively convert all keys to symbols, as long as they respond to
<code>to_sym</code>. This includes the keys from the root hash and from all
nested hashes.</p>
          
          

          
          <div class="method-source-code" id="deep_symbolize_keys-21-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">key</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_symbolize_keys-21-source -->
          
        </div>

        

        
      </div><!-- deep_symbolize_keys-21-method -->

    
      <div id="method-i-deep_transform_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_transform_keys</span><span
            class="method-args">() { |key| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a new hash with all keys converted by the block operation. This
includes the keys from the root hash and from all nested hashes.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-identifier">person</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">age</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> } }

<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
<span class="ruby-comment"># =&gt; { &quot;PERSON&quot; =&gt; { &quot;NAME&quot; =&gt; &quot;Rob&quot;, &quot;AGE&quot; =&gt; &quot;28&quot; } }</span>
</pre>
          
          

          
          <div class="method-source-code" id="deep_transform_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_transform_keys</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">result</span> = {}
  <span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">result</span>[<span class="ruby-keyword">yield</span>(<span class="ruby-identifier">key</span>)] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">deep_transform_keys</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_transform_keys-source -->
          
        </div>

        

        
      </div><!-- deep_transform_keys-method -->

    
      <div id="method-i-deep_transform_keys-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deep_transform_keys!</span><span
            class="method-args">() { |key| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively convert all keys by using the block operation. This includes
the keys from the root hash and from all nested hashes.</p>
          
          

          
          <div class="method-source-code" id="deep_transform_keys-21-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deep_transform_keys!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-keyword">self</span>[<span class="ruby-keyword">yield</span>(<span class="ruby-identifier">key</span>)] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">deep_transform_keys!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deep_transform_keys-21-source -->
          
        </div>

        

        
      </div><!-- deep_transform_keys-21-method -->

    
      <div id="method-i-diff" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diff</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a hash that represents the difference between two hashes.</p>

<pre class="ruby">{<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}.<span class="ruby-identifier">diff</span>(<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>)         <span class="ruby-comment"># =&gt; {}</span>
{<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}.<span class="ruby-identifier">diff</span>(<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>)         <span class="ruby-comment"># =&gt; {1 =&gt; 2}</span>
{}.<span class="ruby-identifier">diff</span>(<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>)               <span class="ruby-comment"># =&gt; {1 =&gt; 2}</span>
{<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-value">3</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>}.<span class="ruby-identifier">diff</span>(<span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>) <span class="ruby-comment"># =&gt; {3 =&gt; 4}</span>
</pre>
          
          

          
          <div class="method-source-code" id="diff-source">
            <pre><span class="ruby-comment"># File hash/diff.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">diff</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Hash#diff is no longer used inside of Rails, and is being deprecated with no replacement. If you're using it to compare hashes for the purpose of testing, please use MiniTest's assert_equal instead.&quot;</span>
  <span class="ruby-identifier">dup</span>.
    <span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">other</span>[<span class="ruby-identifier">k</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">v</span> }.
    <span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">k</span>) })
<span class="ruby-keyword">end</span></pre>
          </div><!-- diff-source -->
          
        </div>

        

        
      </div><!-- diff-method -->

    
      <div id="method-i-except" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">except</span><span
            class="method-args">(*keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a hash that includes everything but the given keys. This is useful
for limiting a set of parameters to everything but a few known toggles:</p>

<pre>@person.update(params[:person].except(:admin))</pre>
          
          

          
          <div class="method-source-code" id="except-source">
            <pre><span class="ruby-comment"># File hash/except.rb, line 6</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">except</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">except!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- except-source -->
          
        </div>

        

        
      </div><!-- except-method -->

    
      <div id="method-i-except-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">except!</span><span
            class="method-args">(*keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Replaces the hash without the given keys.</p>
          
          

          
          <div class="method-source-code" id="except-21-source">
            <pre><span class="ruby-comment"># File hash/except.rb, line 11</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">except!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- except-21-source -->
          
        </div>

        

        
      </div><!-- except-21-method -->

    
      <div id="method-i-extract-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extract!</span><span
            class="method-args">(*keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Removes and returns the key/value pairs matching the given keys.</p>

<pre class="ruby">{ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">d</span><span class="ruby-operator">:</span> <span class="ruby-value">4</span> }.<span class="ruby-identifier">extract!</span>(:<span class="ruby-identifier">a</span>, :<span class="ruby-identifier">b</span>) <span class="ruby-comment"># =&gt; {:a=&gt;1, :b=&gt;2}</span>
{ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-value">2</span> }.<span class="ruby-identifier">extract!</span>(:<span class="ruby-identifier">a</span>, :<span class="ruby-identifier">x</span>)             <span class="ruby-comment"># =&gt; {:a=&gt;1}</span>
</pre>
          
          

          
          <div class="method-source-code" id="extract-21-source">
            <pre><span class="ruby-comment"># File hash/slice.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extract!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each_with_object</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">result</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">key</span>) }
<span class="ruby-keyword">end</span></pre>
          </div><!-- extract-21-source -->
          
        </div>

        

        
      </div><!-- extract-21-method -->

    
      <div id="method-i-extractable_options-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extractable_options?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>By default, only instances of <a href="Hash.html">Hash</a> itself are
extractable. Subclasses of <a href="Hash.html">Hash</a> may implement this
method and return true to declare themselves as extractable. If a <a
href="Hash.html">Hash</a> is extractable, <a
href="Array.html#method-i-extract_options-21">Array#extract_options!</a>
pops it from the <a href="Array.html">Array</a> when it is the last element
of the <a href="Array.html">Array</a>.</p>
          
          

          
          <div class="method-source-code" id="extractable_options-3F-source">
            <pre><span class="ruby-comment"># File array/extract_options.rb, line 7</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extractable_options?</span>
  <span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">Hash</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- extractable_options-3F-source -->
          
        </div>

        

        
      </div><!-- extractable_options-3F-method -->

    
      <div id="method-i-nested_under_indifferent_access" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">nested_under_indifferent_access</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Called when object is nested under an object that receives <a
href="Hash.html#method-i-with_indifferent_access">with_indifferent_access</a>.
This method will be called on the current object by the enclosing object
and is aliased to <a
href="Hash.html#method-i-with_indifferent_access">with_indifferent_access</a>
by default. Subclasses of <a href="Hash.html">Hash</a> may overwrite this
method to return <code>self</code> if converting to an
<code>ActiveSupport::HashWithIndifferentAccess</code> would not be
desirable.</p>

<pre>b = { b: 1 }
{ a: b }.with_indifferent_access['a'] # calls b.nested_under_indifferent_access</pre>
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Hash.html#method-i-with_indifferent_access">with_indifferent_access</a>
        </div>
        
      </div><!-- nested_under_indifferent_access-method -->

    
      <div id="method-i-reverse_merge" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reverse_merge</span><span
            class="method-args">(other_hash)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Merges the caller into <code>other_hash</code>. For example,</p>

<pre>options = options.reverse_merge(size: 25, velocity: 10)</pre>

<p>is equivalent to</p>

<pre>options = { size: 25, velocity: 10 }.merge(options)</pre>

<p>This is particularly useful for initializing an options hash with default
values.</p>
          
          

          
          <div class="method-source-code" id="reverse_merge-source">
            <pre><span class="ruby-comment"># File hash/reverse_merge.rb, line 12</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reverse_merge</span>(<span class="ruby-identifier">other_hash</span>)
  <span class="ruby-identifier">other_hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- reverse_merge-source -->
          
        </div>

        

        
      </div><!-- reverse_merge-method -->

    
      <div id="method-i-reverse_merge-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reverse_merge!</span><span
            class="method-args">(other_hash)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructive <code>reverse_merge</code>.</p>
          
          

          
          <div class="method-source-code" id="reverse_merge-21-source">
            <pre><span class="ruby-comment"># File hash/reverse_merge.rb, line 17</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">other_hash</span>)
  <span class="ruby-comment"># right wins if there is no left</span>
  <span class="ruby-identifier">merge!</span>( <span class="ruby-identifier">other_hash</span> ){<span class="ruby-operator">|</span><span class="ruby-identifier">key</span>,<span class="ruby-identifier">left</span>,<span class="ruby-identifier">right</span><span class="ruby-operator">|</span> <span class="ruby-identifier">left</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- reverse_merge-21-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Hash.html#method-i-reverse_update">reverse_update</a>
        </div>
        

        
      </div><!-- reverse_merge-21-method -->

    
      <div id="method-i-reverse_update" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">reverse_update</span><span
            class="method-args">(other_hash)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Hash.html#method-i-reverse_merge-21">reverse_merge!</a>
        </div>
        
      </div><!-- reverse_update-method -->

    
      <div id="method-i-slice" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">slice</span><span
            class="method-args">(*keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Slice a hash to include only the given keys. This is useful for limiting an
options hash to valid keys before passing to a method:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">search</span>(<span class="ruby-identifier">criteria</span> = {})
  <span class="ruby-identifier">criteria</span>.<span class="ruby-identifier">assert_valid_keys</span>(:<span class="ruby-identifier">mass</span>, :<span class="ruby-identifier">velocity</span>, :<span class="ruby-identifier">time</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">search</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">slice</span>(:<span class="ruby-identifier">mass</span>, :<span class="ruby-identifier">velocity</span>, :<span class="ruby-identifier">time</span>))
</pre>

<p>If you have an array of keys you want to limit to, you should splat them:</p>

<pre>valid_keys = [:mass, :velocity, :time]
search(options.slice(*valid_keys))</pre>
          
          

          
          <div class="method-source-code" id="slice-source">
            <pre><span class="ruby-comment"># File hash/slice.rb, line 15</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">convert_key</span>(<span class="ruby-identifier">key</span>) } <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:convert_key</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each_with_object</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">hash</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-keyword">self</span>[<span class="ruby-identifier">k</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">k</span>) }
<span class="ruby-keyword">end</span></pre>
          </div><!-- slice-source -->
          
        </div>

        

        
      </div><!-- slice-method -->

    
      <div id="method-i-slice-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">slice!</span><span
            class="method-args">(*keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Replaces the hash with only the given keys. Returns a hash containing the
removed key/value pairs.</p>

<pre class="ruby">{ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">d</span><span class="ruby-operator">:</span> <span class="ruby-value">4</span> }.<span class="ruby-identifier">slice!</span>(:<span class="ruby-identifier">a</span>, :<span class="ruby-identifier">b</span>)
<span class="ruby-comment"># =&gt; {:c=&gt;3, :d=&gt;4}</span>
</pre>
          
          

          
          <div class="method-source-code" id="slice-21-source">
            <pre><span class="ruby-comment"># File hash/slice.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">convert_key</span>(<span class="ruby-identifier">key</span>) } <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:convert_key</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">omit</span> = <span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">replace</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">omit</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- slice-21-source -->
          
        </div>

        

        
      </div><!-- slice-21-method -->

    
      <div id="method-i-stringify_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stringify_keys</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a new hash with all keys converted to strings.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">age</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> }

<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">stringify_keys</span>
<span class="ruby-comment">#=&gt; { &quot;name&quot; =&gt; &quot;Rob&quot;, &quot;age&quot; =&gt; &quot;28&quot; }</span>
</pre>
          
          

          
          <div class="method-source-code" id="stringify_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- stringify_keys-source -->
          
        </div>

        

        
      </div><!-- stringify_keys-method -->

    
      <div id="method-i-stringify_keys-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stringify_keys!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively convert all keys to strings. Same as
<code>stringify_keys</code>, but modifies <code>self</code>.</p>
          
          

          
          <div class="method-source-code" id="stringify_keys-21-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- stringify_keys-21-source -->
          
        </div>

        

        
      </div><!-- stringify_keys-21-method -->

    
      <div id="method-i-symbolize_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbolize_keys</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a new hash with all keys converted to symbols, as long as they
respond to <code>to_sym</code>.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-string">'name'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-string">'age'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'28'</span> }

<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">symbolize_keys</span>
<span class="ruby-comment">#=&gt; { name: &quot;Rob&quot;, age: &quot;28&quot; }</span>
</pre>
          
          

          
          <div class="method-source-code" id="symbolize_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">key</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- symbolize_keys-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Hash.html#method-i-to_options">to_options</a>
        </div>
        

        
      </div><!-- symbolize_keys-method -->

    
      <div id="method-i-symbolize_keys-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbolize_keys!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively convert all keys to symbols, as long as they respond to
<code>to_sym</code>. Same as <code>symbolize_keys</code>, but modifies
<code>self</code>.</p>
          
          

          
          <div class="method-source-code" id="symbolize_keys-21-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbolize_keys!</span>
  <span class="ruby-identifier">transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">key</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- symbolize_keys-21-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Hash.html#method-i-to_options-21">to_options!</a>
        </div>
        

        
      </div><!-- symbolize_keys-21-method -->

    
      <div id="method-i-to_options" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">to_options</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Hash.html#method-i-symbolize_keys">symbolize_keys</a>
        </div>
        
      </div><!-- to_options-method -->

    
      <div id="method-i-to_options-21" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">to_options!</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Hash.html#method-i-symbolize_keys-21">symbolize_keys!</a>
        </div>
        
      </div><!-- to_options-21-method -->

    
      <div id="method-i-to_param" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_param</span><span
            class="method-args">(namespace = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a string representation of the receiver suitable for use as a URL
query string:</p>

<pre class="ruby">{<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'David'</span>, <span class="ruby-identifier">nationality</span><span class="ruby-operator">:</span> <span class="ruby-string">'Danish'</span>}.<span class="ruby-identifier">to_param</span>
<span class="ruby-comment"># =&gt; &quot;name=David&amp;nationality=Danish&quot;</span>
</pre>

<p>An optional namespace can be passed to enclose the param names:</p>

<pre class="ruby">{<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'David'</span>, <span class="ruby-identifier">nationality</span><span class="ruby-operator">:</span> <span class="ruby-string">'Danish'</span>}.<span class="ruby-identifier">to_param</span>(<span class="ruby-string">'user'</span>)
<span class="ruby-comment"># =&gt; &quot;user[name]=David&amp;user[nationality]=Danish&quot;</span>
</pre>

<p>The string pairs key=value that conform the query string are sorted
lexicographically in ascending order.</p>

<p>This method is also aliased as <code>to_query</code>.</p>
          
          

          
          <div class="method-source-code" id="to_param-source">
            <pre><span class="ruby-comment"># File object/to_param.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_param</span>(<span class="ruby-identifier">namespace</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_query</span>(<span class="ruby-identifier">namespace</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{namespace}[#{key}]&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">sort</span> <span class="ruby-operator">*</span> <span class="ruby-string">'&amp;'</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_param-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Hash.html#method-i-to_query">to_query</a>
        </div>
        

        
      </div><!-- to_param-method -->

    
      <div id="method-i-to_query" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">to_query</span><span
            class="method-args">(namespace = nil)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Hash.html#method-i-to_param">to_param</a>
        </div>
        
      </div><!-- to_query-method -->

    
      <div id="method-i-to_xml" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_xml</span><span
            class="method-args">(options = {}) { |builder| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a string containing an XML representation of its receiver:</p>

<pre class="ruby">{<span class="ruby-string">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-string">'bar'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}.<span class="ruby-identifier">to_xml</span>
<span class="ruby-comment"># =&gt;</span>
<span class="ruby-comment"># &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="ruby-comment"># &lt;hash&gt;</span>
<span class="ruby-comment">#   &lt;foo type=&quot;integer&quot;&gt;1&lt;/foo&gt;</span>
<span class="ruby-comment">#   &lt;bar type=&quot;integer&quot;&gt;2&lt;/bar&gt;</span>
<span class="ruby-comment"># &lt;/hash&gt;</span>
</pre>

<p>To do so, the method loops over the pairs and builds nodes that depend on
the <em>values</em>. Given a pair <code>key</code>, <code>value</code>:</p>
<ul><li>
<p>If <code>value</code> is a hash theres a recursive call with
<code>key</code> as <code>:root</code>.</p>
</li><li>
<p>If <code>value</code> is an array theres a recursive call with
<code>key</code> as <code>:root</code>, and <code>key</code> singularized
as <code>:children</code>.</p>
</li><li>
<p>If <code>value</code> is a callable object it must expect one or two
arguments. Depending on the arity, the callable is invoked with the
<code>options</code> hash as first argument with <code>key</code> as
<code>:root</code>, and <code>key</code> singularized as second argument.
The callable can add nodes by using <code>options[:builder]</code>.</p>

<pre class="ruby"><span class="ruby-string">'foo'</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">options</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>[:<span class="ruby-identifier">builder</span>].<span class="ruby-identifier">b</span>(<span class="ruby-identifier">key</span>) })
<span class="ruby-comment"># =&gt; &quot;&lt;b&gt;foo&lt;/b&gt;&quot;</span>
</pre>
</li><li>
<p>If <code>value</code> responds to <code>to_xml</code> the method is invoked
with <code>key</code> as <code>:root</code>.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Foo</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-identifier">options</span>[:<span class="ruby-identifier">builder</span>].<span class="ruby-identifier">bar</span> <span class="ruby-string">'fooing!'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

{ <span class="ruby-identifier">foo</span><span class="ruby-operator">:</span> <span class="ruby-constant">Foo</span>.<span class="ruby-identifier">new</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">skip_instruct</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;hash&gt;&lt;bar&gt;fooing!&lt;/bar&gt;&lt;/hash&gt;&quot;</span>
</pre>
</li><li>
<p>Otherwise, a node with <code>key</code> as tag is created with a string
representation of <code>value</code> as text node. If <code>value</code> is
<code>nil</code> an attribute nil set to true is added. Unless the
option <code>:skip_types</code> exists and is true, an attribute type is
added as well according to the following mapping:</p>

<pre class="ruby"><span class="ruby-constant">XML_TYPE_NAMES</span> = {
  <span class="ruby-string">&quot;Symbol&quot;</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;symbol&quot;</span>,
  <span class="ruby-string">&quot;Fixnum&quot;</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;integer&quot;</span>,
  <span class="ruby-string">&quot;Bignum&quot;</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;integer&quot;</span>,
  <span class="ruby-string">&quot;BigDecimal&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;decimal&quot;</span>,
  <span class="ruby-string">&quot;Float&quot;</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;float&quot;</span>,
  <span class="ruby-string">&quot;TrueClass&quot;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;boolean&quot;</span>,
  <span class="ruby-string">&quot;FalseClass&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;boolean&quot;</span>,
  <span class="ruby-string">&quot;Date&quot;</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;date&quot;</span>,
  <span class="ruby-string">&quot;DateTime&quot;</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;dateTime&quot;</span>,
  <span class="ruby-string">&quot;Time&quot;</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;dateTime&quot;</span>
}
</pre>
</li></ul>

<p>By default the root node is hash, but thats configurable via the
<code>:root</code> option.</p>

<p>The default XML builder is a fresh instance of
<code>Builder::XmlMarkup</code>. You can configure your own builder with
the <code>:builder</code> option. The method also accepts options like
<code>:dasherize</code> and friends, they are forwarded to the builder.</p>
          
          

          
          <div class="method-source-code" id="to_xml-source">
            <pre><span class="ruby-comment"># File hash/conversions.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">require</span> <span class="ruby-string">'active_support/builder'</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Builder</span>)

  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent</span>]  <span class="ruby-operator">||=</span> <span class="ruby-value">2</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:root</span>]    <span class="ruby-operator">||=</span> <span class="ruby-string">'hash'</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:builder</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Builder</span><span class="ruby-operator">::</span><span class="ruby-constant">XmlMarkup</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">indent</span><span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent</span>])

  <span class="ruby-identifier">builder</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:builder</span>]
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">instruct!</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:skip_instruct</span>)

  <span class="ruby-identifier">root</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">XmlMini</span>.<span class="ruby-identifier">rename_key</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:root</span>].<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">options</span>)

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">tag!</span>(<span class="ruby-identifier">root</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">XmlMini</span>.<span class="ruby-identifier">to_tag</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">options</span>) }
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">builder</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_xml-source -->
          
        </div>

        

        
      </div><!-- to_xml-method -->

    
      <div id="method-i-transform_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">transform_keys</span><span
            class="method-args">() { |key| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a new hash with all keys converted using the block operation.</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = { <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">'Rob'</span>, <span class="ruby-identifier">age</span><span class="ruby-operator">:</span> <span class="ruby-string">'28'</span> }

<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
<span class="ruby-comment"># =&gt; { &quot;NAME&quot; =&gt; &quot;Rob&quot;, &quot;AGE&quot; =&gt; &quot;28&quot; }</span>
</pre>
          
          

          
          <div class="method-source-code" id="transform_keys-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">transform_keys</span>
  <span class="ruby-identifier">result</span> = {}
  <span class="ruby-identifier">each_key</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">result</span>[<span class="ruby-keyword">yield</span>(<span class="ruby-identifier">key</span>)] = <span class="ruby-keyword">self</span>[<span class="ruby-identifier">key</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- transform_keys-source -->
          
        </div>

        

        
      </div><!-- transform_keys-method -->

    
      <div id="method-i-transform_keys-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">transform_keys!</span><span
            class="method-args">() { |key| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively convert all keys using the block operations. Same as <a
href="Hash.html#method-i-transform_keys">#transform_keys</a> but modifies
<code>self</code>.</p>
          
          

          
          <div class="method-source-code" id="transform_keys-21-source">
            <pre><span class="ruby-comment"># File hash/keys.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">transform_keys!</span>
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">self</span>[<span class="ruby-keyword">yield</span>(<span class="ruby-identifier">key</span>)] = <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- transform_keys-21-source -->
          
        </div>

        

        
      </div><!-- transform_keys-21-method -->

    
      <div id="method-i-with_indifferent_access" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">with_indifferent_access</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an <code>ActiveSupport::HashWithIndifferentAccess</code> out of its
receiver:</p>

<pre class="ruby">{ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span> }.<span class="ruby-identifier">with_indifferent_access</span>[<span class="ruby-string">'a'</span>] <span class="ruby-comment"># =&gt; 1</span>
</pre>
          
          

          
          <div class="method-source-code" id="with_indifferent_access-source">
            <pre><span class="ruby-comment"># File hash/indifferent_access.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new_from_hash_copying_default</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- with_indifferent_access-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Hash.html#method-i-nested_under_indifferent_access">nested_under_indifferent_access</a>
        </div>
        

        
      </div><!-- with_indifferent_access-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.1.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

